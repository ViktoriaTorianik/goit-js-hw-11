{"mappings":"AAEA,IAAIA,EAAO,EACPC,EAAc,KAClB,MAAMC,EAASC,SAASC,cAAc,gBAChCC,EAAYF,SAASC,cAAc,YACnCE,EAAWH,SAASC,cAAc,cAmBxC,SAASG,EAAWC,GAClB,OAAOC,MAAM,6HAAwFD,UAAkBR,iBACpHU,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,G,CAI5B,SAASC,EAAgBC,GACvB,OAAOA,EAAMC,KAAI,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAACA,EAAIC,MAACA,EAAKC,MAACA,EAAKC,SAACA,EAAQC,UAACA,KAAgB,yCAC9EN,WAAsBE,uGAGnBC,8DAGAC,iEAGGC,kEAGCC,sCAGZC,KAAK,G,CA3CdpB,EAASqB,iBAAiB,SAE1B,WAEE3B,GAAQ,EACRO,EAAWN,GACRS,MAAMkB,IACJvB,EAAUwB,mBAAmB,YAAab,EAAgBY,EAAKE,OAChEC,QAAQC,IAAIJ,EAAKE,MACbF,EAAKK,OAAOL,EAAKM,YACnB5B,EAAS6B,QAAS,EAAI,IAGzBC,MAAML,QAAQC,M,IAmCnB9B,EAAOyB,iBAAiB,UACxB,SAAqBU,GAIjB,GAHAA,EAAEC,iBACFrC,EAAcoC,EAAEE,OAAOC,kBAAkBC,MAAMC,OAC/CL,EAAEE,OAAOC,kBAAkBC,MAAQ,GACf,KAAhBxC,EACA,OAEJ8B,QAAQC,IAAI/B,GACdM,EAAWN,GACRS,MAAMkB,IACJvB,EAAUsC,UAAY3B,EAAgBY,EAAKE,MACxCF,EAAKK,OAAOL,EAAKM,YACnB5B,EAAS6B,QAAS,EAAK,IAG1BC,MAAML,QAAQC,M","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = \"37602273-ee76d535e0302dd8a6c170e2a\"\nlet page = 1\nlet userRequest = null\nconst formEl = document.querySelector('.search-form')\nconst galleryEl = document.querySelector('.gallery')\nconst loadMore = document.querySelector('.load-more')\n\n\nloadMore.addEventListener('click', onNextPage) \n\nfunction onNextPage() {\n  \n  page += 1\n  fetchPhoto(userRequest)\n    .then((data) => {\n      (galleryEl.insertAdjacentHTML(\"beforeend\", creatMarkupCard(data.hits)))\n      console.log(data.hits);\n      if (data.page===data.totalHits){\n        loadMore.hidden = true\n      }\n    })\n    .catch(console.log());\n  \n}\nfunction fetchPhoto(userFetch) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&q=${userFetch}&page=${page}&per_page=40`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText)\n      }\n      return response.json()\n    });\n}\n\nfunction creatMarkupCard(array) {\n  return array.map(({ webformatURL, largeImageURL,tags,likes,views,comments,downloads }) => `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"photo\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads ${downloads}</b>\n    </p>\n  </div>\n</div>`).join('')\n}\n\n\n\nformEl.addEventListener('submit', sendRequest)\nfunction sendRequest(e) {\n    e.preventDefault()\n    userRequest = e.target.firstElementChild.value.trim()\n    e.target.firstElementChild.value = \"\"\n    if (userRequest === \"\") {\n        return\n    }\n    console.log(userRequest);\n  fetchPhoto(userRequest)\n    .then((data) => {\n      (galleryEl.innerHTML = creatMarkupCard(data.hits))\n      if (data.page!==data.totalHits){\n        loadMore.hidden = false\n      }\n    })\n    .catch(console.log())\n    \n}"],"names":["$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$userRequest","$1f0dc3b9307be026$var$formEl","document","querySelector","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$loadMore","$1f0dc3b9307be026$var$fetchPhoto","userFetch","fetch","then","response","ok","Error","statusText","json","$1f0dc3b9307be026$var$creatMarkupCard","array","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","addEventListener","data","insertAdjacentHTML","hits","console","log","page","totalHits","hidden","catch","e","preventDefault","target","firstElementChild","value","trim","innerHTML"],"version":3,"file":"index.2259bdf1.js.map"}