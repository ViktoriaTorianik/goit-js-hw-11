{"mappings":"YAAA,IAEIA,EAAO,EACPC,EAAc,KACZC,EAASC,SAASC,cAAc,gBAChCC,EAAYF,SAASC,cAAc,YACnCE,EAAWH,SAASC,cAAc,cAmBxC,SAASG,EAAWC,GAClB,OAAOC,MAAM,GAAmBC,OA1BjB,2BA0BU,SAA4EA,OAzBvF,qCAyB0B,+DAA+EA,OAAlBF,EAAU,UAAaE,OAALV,EAAK,iBACzHW,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IAItB,SAASC,EAAgBC,GACvB,OAAOA,EAAMC,KAAI,SAAAC,G,IAAGC,EAAYD,EAAZC,aAA4BC,GAADF,EAAbG,cAAkBH,EAAJE,MAAKE,EAAKJ,EAALI,MAAMC,EAAKL,EAALK,MAAMC,EAAQN,EAARM,SAASC,EAASP,EAATO,U,MAAgB,yCACxDjB,OAAtBW,EAAa,WAGVX,OAHmBY,EAAK,uGAMxBZ,OAHAc,EAAM,8DAMHd,OAHHe,EAAM,iEAMFf,OAHDgB,EAAS,kEAGEhB,OAAViB,EAAU,mC,IAGtBC,KAAK,G,CA3CdtB,EAASuB,iBAAiB,SAE1B,WAEE7B,GAAQ,EACRO,EAAWN,GACRU,MAAK,SAACmB,GACJzB,EAAU0B,mBAAmB,YAAad,EAAgBa,EAAKE,OAChEC,QAAQC,IAAIJ,EAAKE,MACbF,EAAKK,OAAOL,EAAKM,YACnB9B,EAAS+B,QAAS,E,IAGrBC,MAAML,QAAQC,M,IAmCnBhC,EAAO2B,iBAAiB,UACxB,SAAqBU,GAIjB,GAHAA,EAAEC,iBACFvC,EAAcsC,EAAEE,OAAOC,kBAAkBC,MAAMC,OAC/CL,EAAEE,OAAOC,kBAAkBC,MAAQ,GACf,KAAhB1C,EACA,OAEJgC,QAAQC,IAAIjC,GACdM,EAAWN,GACRU,MAAK,SAACmB,GACJzB,EAAUwC,UAAY5B,EAAgBa,EAAKE,MACxCF,EAAKK,OAAOL,EAAKM,YACnB9B,EAAS+B,QAAS,E,IAGrBC,MAAML,QAAQC,M","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = \"37602273-ee76d535e0302dd8a6c170e2a\"\nlet page = 1\nlet userRequest = null\nconst formEl = document.querySelector('.search-form')\nconst galleryEl = document.querySelector('.gallery')\nconst loadMore = document.querySelector('.load-more')\n\n\nloadMore.addEventListener('click', onNextPage) \n\nfunction onNextPage() {\n  \n  page += 1\n  fetchPhoto(userRequest)\n    .then((data) => {\n      (galleryEl.insertAdjacentHTML(\"beforeend\", creatMarkupCard(data.hits)))\n      console.log(data.hits);\n      if (data.page===data.totalHits){\n        loadMore.hidden = true\n      }\n    })\n    .catch(console.log());\n  \n}\nfunction fetchPhoto(userFetch) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&q=${userFetch}&page=${page}&per_page=40`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText)\n      }\n      return response.json()\n    });\n}\n\nfunction creatMarkupCard(array) {\n  return array.map(({ webformatURL, largeImageURL,tags,likes,views,comments,downloads }) => `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"photo\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads ${downloads}</b>\n    </p>\n  </div>\n</div>`).join('')\n}\n\n\n\nformEl.addEventListener('submit', sendRequest)\nfunction sendRequest(e) {\n    e.preventDefault()\n    userRequest = e.target.firstElementChild.value.trim()\n    e.target.firstElementChild.value = \"\"\n    if (userRequest === \"\") {\n        return\n    }\n    console.log(userRequest);\n  fetchPhoto(userRequest)\n    .then((data) => {\n      (galleryEl.innerHTML = creatMarkupCard(data.hits))\n      if (data.page!==data.totalHits){\n        loadMore.hidden = false\n      }\n    })\n    .catch(console.log())\n    \n}"],"names":["$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$userRequest","$b8f9b7833fa37166$var$formEl","document","querySelector","$b8f9b7833fa37166$var$galleryEl","$b8f9b7833fa37166$var$loadMore","$b8f9b7833fa37166$var$fetchPhoto","userFetch","fetch","concat","then","response","ok","Error","statusText","json","$b8f9b7833fa37166$var$creatMarkupCard","array","map","param","webformatURL","tags","largeImageURL","likes","views","comments","downloads","join","addEventListener","data","insertAdjacentHTML","hits","console","log","page","totalHits","hidden","catch","e","preventDefault","target","firstElementChild","value","trim","innerHTML"],"version":3,"file":"index.ef1c8e4c.js.map"}