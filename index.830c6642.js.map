{"mappings":"AAEA,IAAIA,EAAO,EAEX,MAAMC,EAASC,SAASC,cAAc,gBAChCC,EAAYF,SAASC,cAAc,YACnCE,EAAWH,SAASC,cAAc,cAClCG,EAAUJ,SAASC,cAAc,SAkBvC,SAASI,EAAWC,GAClB,OAAOC,MAAM,6HAAwFD,UAAkBR,gBACpHU,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,G,CAI5B,SAASC,EAAgBC,GACvB,OAAOA,EAAMC,KAAI,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAACA,EAAIC,MAACA,EAAKC,MAACA,EAAKC,SAACA,EAAQC,UAACA,KAAgB,yCAC9EN,WAAsBE,yFAGnBC,8DAGAC,iEAGGC,kEAGCC,sCAGZC,KAAK,G,CA5CdC,QAAQC,IAAItB,GAEZD,EAASwB,iBAAiB,SAE1B,WACE7B,GAAQ,EACRO,EAXc,MAYXG,MAAMoB,IACJ1B,EAAU2B,mBAAmB,YAAaf,EAAgBc,EAAKE,OAChEL,QAAQC,IAAIE,EAAKE,MACbF,EAAKG,OAAOH,EAAKI,YACnB7B,EAAS8B,QAAS,EAAI,IAGzBC,MAAMT,QAAQC,M,IAmCnB3B,EAAO4B,iBAAiB,UACxB,SAAqBQ,GACjBA,EAAEC,iBAEF,MAAMC,EAAcF,EAAEG,OAAOC,kBAAkBC,MAAMC,OAGrD,GADAN,EAAEG,OAAOC,kBAAkBC,MAAQ,GACf,KAAhBH,EACA,OAGJZ,QAAQC,IAAIW,GACdhC,EAAWgC,GACR7B,MAAMoB,IACJ1B,EAAUwC,UAAY5B,EAAgBc,EAAKE,MACxCF,EAAKG,OAAOH,EAAKI,YACnB7B,EAAS8B,QAAS,EAAK,IAG1BC,MAAMT,QAAQC,M","sources":["src/index.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = \"37602273-ee76d535e0302dd8a6c170e2a\"\nlet page = 1\nlet userFetch = null\nconst formEl = document.querySelector('.search-form')\nconst galleryEl = document.querySelector('.gallery')\nconst loadMore = document.querySelector('.load-more')\nconst inputEl = document.querySelector('input')\nconsole.log(inputEl);\n\nloadMore.addEventListener('click', onNextPage) \n\nfunction onNextPage() {\n  page += 1\n  fetchPhoto(userFetch)\n    .then((data) => {\n      (galleryEl.insertAdjacentHTML(\"beforeend\", creatMarkupCard(data.hits)))\n      console.log(data.hits);\n      if (data.page===data.totalHits){\n        loadMore.hidden = true\n      }\n    })\n    .catch(console.log());\n  \n}\nfunction fetchPhoto(userFetch) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&q=${userFetch}&page=${page}&per_page=4`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText)\n      }\n      return response.json()\n    });\n}\n\nfunction creatMarkupCard(array) {\n  return array.map(({ webformatURL, largeImageURL,tags,likes,views,comments,downloads }) => `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads ${downloads}</b>\n    </p>\n  </div>\n</div>`).join('')\n}\n\n\n\nformEl.addEventListener('submit', sendRequest)\nfunction sendRequest(e) {\n    e.preventDefault()\n    \n    const userRequest = e.target.firstElementChild.value.trim()\n\n    e.target.firstElementChild.value = \"\"\n    if (userRequest === \"\") {\n        return\n    }\n\n    console.log(userRequest);\n  fetchPhoto(userRequest)\n    .then((data) => {\n      (galleryEl.innerHTML = creatMarkupCard(data.hits))\n      if (data.page!==data.totalHits){\n        loadMore.hidden = false\n      }\n    })\n    .catch(console.log())\n    \n}"],"names":["$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$formEl","document","querySelector","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$loadMore","$1f0dc3b9307be026$var$inputEl","$1f0dc3b9307be026$var$fetchPhoto","userFetch1","fetch","then","response","ok","Error","statusText","json","$1f0dc3b9307be026$var$creatMarkupCard","array","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","console","log","addEventListener","data","insertAdjacentHTML","hits","page","totalHits","hidden","catch","e","preventDefault","userRequest","target","firstElementChild","value","trim","innerHTML"],"version":3,"file":"index.830c6642.js.map"}